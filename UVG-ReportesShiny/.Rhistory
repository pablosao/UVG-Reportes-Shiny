casosPorMunicipio <- dbGetQuery(con, getCasos_MunicipioDummy())
cantDeSintomas <- dbGetQuery(con, getCantidad_SintomasDummy())
sexoVsCasos <- dbGetQuery(con,getCasos_SexoDummy() )
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
),
tabItems(
tabItem("general",
fluidPage(
h1("General"),
hr(),
h3("Casos por Municipio"),
box(
DT::dataTableOutput("cpm"),
width = 15
),
h3("Cantidad de Sintomas"),
box(
plotOutput('cantSinto'),
width = 10,
)
)
),
tabItem("cases",
fluidPage(
h1("Casos")
)
),
tabItem("afected",
fluidPage(
h1("Afectados")
)
),
tabItem("regions",
fluidPage(
h1("Regiones")
)
),
tabItem("symptoms",
fluidPage(
h1("Sintomas Comunes")
)
)
)
)
)
server <- function(input, output){
output$cpm = DT::renderDataTable({
casosPorMunicipio
})
output$cantSinto <- renderPlot({
barplot(
height = as.matrix.data.frame(cantDeSintomas),
main = "Maximum Temperatures in a Week",
xlab = "Cantidad de personas",
ylab = "Sintomas",
names.arg = c(cantDeSintomas[['descripcion']]),
col = "darkred",
horiz = TRUE)
})
}
shinyApp(ui, server)
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
),
tabItems(
tabItem("general",
fluidPage(
h1("General"),
hr(),
h3("Casos por Municipio"),
box(
DT::dataTableOutput("cpm"),
width = 15
),
h3("Cantidad de Sintomas"),
box(
plotOutput('cantSinto'),
width = 10,
)
)
),
tabItem("cases",
fluidPage(
h1("Casos")
)
),
tabItem("afected",
fluidPage(
h1("Afectados")
)
),
tabItem("regions",
fluidPage(
h1("Regiones")
)
),
tabItem("symptoms",
fluidPage(
h1("Sintomas Comunes")
)
)
)
)
)
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
)))
shinyApp(ui, server)
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
),
tabItems(
tabItem("general",
fluidPage(
h1("General"),
hr(),
h3("Casos por Municipio"),
box(
DT::dataTableOutput("cpm"),
width = 15
),
h3("Cantidad de Sintomas"),
box(
plotOutput('cantSinto'),
width = 10,
)
)
),
tabItem("cases",
fluidPage(
h1("Casos")
)
),
tabItem("afected",
fluidPage(
h1("Afectados")
)
),
tabItem("regions",
fluidPage(
h1("Regiones")
)
),
tabItem("symptoms",
fluidPage(
h1("Sintomas Comunes")
)
)
)
)
)
sexoVsCasos
View(sexoVsCasos)
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
),
tabItems(
tabItem("general",
fluidPage(
h1("General"),
hr(),
h3("Casos por Municipio"),
box(
DT::dataTableOutput("cpm"),
width = 15
),
h3("Cantidad de Sintomas"),
box(
plotOutput('cantSinto'),
width = 10,
),
)
),
tabItem("cases",
fluidPage(
h1("Casos")
)
),
tabItem("afected",
fluidPage(
h1("Afectados")
)
),
tabItem("regions",
fluidPage(
h1("Regiones")
)
),
tabItem("symptoms",
fluidPage(
h1("Sintomas Comunes")
)
)
)
)
)
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
),
tabItems(
tabItem("general",
fluidPage(
h1("General"),
hr(),
h3("Casos por Municipio"),
box(
DT::dataTableOutput("cpm"),
width = 15
),
h3("Cantidad de Sintomas"),
box(
plotOutput('cantSinto'),
width = 10,
),
)
),
tabItem("cases",
fluidPage(
h1("Casos")
)
),
tabItem("afected",
fluidPage(
h1("Afectados")
)
),
tabItem("regions",
fluidPage(
h1("Regiones")
)
),
tabItem("symptoms",
fluidPage(
h1("Sintomas Comunes")
)
)
)
)
)
#
#           UVG-Reportes-COVID-19
#
#   Creado por: Juan Fernando De Leon Quezada
#
#   Descripcion: Shiny Dashboard
#
#   Fecha: 19/05/2020
#
library(shiny)
library(shinydashboard)
library(RPostgreSQL)
library(DT)
library(ECharts2Shiny)
#install.packages("ini")
library(ini)
source("queryManager.R")
# PSAO / 19-05-2020 / Ser cargan datos de conexion configurado en archivo .ini
datosConexion <- read.ini('conexion.ini')
# PSAO / 19-05-2020 / Se configuran credenciales de DB a partir de archivo .ini a DB
db <- datosConexion$db_conexion$db
host_db <- datosConexion$db_conexion$host
db_port <- datosConexion$db_conexion$port
db_user <- datosConexion$db_conexion$user
db_password <- datosConexion$db_conexion$password
# Realizando conexion a DB
con <- dbConnect(RPostgres::Postgres(), dbname = db, host=host_db, port=db_port, user=db_user, password=db_password)
# PSAO / 19-05-1010 / Se agrega llamado a funcion para obtener querys
casosPorMunicipio <- dbGetQuery(con, getCasos_MunicipioDummy())
cantDeSintomas <- dbGetQuery(con, getCantidad_SintomasDummy())
sexoVsCasos <- dbGetQuery(con,getCasos_SexoDummy() )
ui <- dashboardPage(
title = "Reportes COVID-19",
dashboardHeader(title= "Reportes COVID-19 UVG"),
dashboardSidebar(
sidebarMenu(
menuItem("General", tabName = "general", icon = icon("chart-pie")),
menuItem("Casos", tabName = "cases", icon = icon("caret-right")),
menuItem("Afectados", tabName = "afected", icon = icon("caret-right")),
menuItem("Regiones", tabName = "regions", icon = icon("caret-right")),
menuItem("Sintomas Comunes", tabName = "symptoms", icon = icon("caret-right"))
)
),
dashboardBody(
tags$head(
tags$style(HTML('
.skin-blue .main-header .navbar{
background-color: #21822b;
}
.skin-blue .main-header .logo{
background-color: #21822b;
}
.skin-blue .sidebar-menu > li.active > a, .skin-blue .sidebar-menu > li:hover > a{
border-left-color: #21822b;
}
.skin-blue .left-side, .skin-blue .main-sidebar, .skin-blue .wrapper {
background-color: #3b3a3b;
}
'))
),
tabItems(
tabItem("general",
fluidPage(
h1("General"),
hr(),
h3("Casos por Municipio"),
box(
DT::dataTableOutput("cpm"),
width = 15
),
h3("Cantidad de Sintomas"),
box(
plotOutput('cantSinto'),
width = 10,
),
)
),
tabItem("cases",
fluidPage(
h1("Casos")
)
),
tabItem("afected",
fluidPage(
h1("Afectados")
)
),
tabItem("regions",
fluidPage(
h1("Regiones")
)
),
tabItem("symptoms",
fluidPage(
h1("Sintomas Comunes")
)
)
)
)
)
server <- function(input, output){
output$cpm = DT::renderDataTable({
casosPorMunicipio
})
output$cantSinto <- renderPlot({
barplot(
height = as.matrix.data.frame(cantDeSintomas),
main = "Maximum Temperatures in a Week",
xlab = "Cantidad de personas",
ylab = "Sintomas",
names.arg = c(cantDeSintomas[['descripcion']]),
col = "darkred",
horiz = TRUE)
})
}
shinyApp(ui, server)
